"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9208],{9208:(v,d,l)=>{l.r(d),l.d(d,{default:()=>C});var m=l(5861),c=l(6895),e=l(8256),n=l(7002),r=l(3128),g=l(9209);function u(o,s){1&o&&e._UZ(0,"ion-icon",10)}function f(o,s){1&o&&e._UZ(0,"ion-icon",11)}function h(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",1)(1,"ion-grid",2)(2,"ion-row")(3,"ion-col",3),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.presentActionSheet())}),e._UZ(4,"ion-icon",4),e.qZA(),e.TgZ(5,"ion-col",5)(6,"ion-label",6)(7,"h2"),e._uU(8),e.qZA()()(),e.TgZ(9,"ion-col",7),e.YNc(10,u,1,0,"ion-icon",8),e.YNc(11,f,1,0,"ion-icon",9),e.qZA()()()()}if(2&o){const t=e.oxw();e.Q6J("detail",!1),e.xp6(1),e.Q6J("fixed",!0),e.xp6(4),e.Q6J("routerLink","/detail/"+t.task.id),e.xp6(3),e.hij(" ",t.task.name," "),e.xp6(2),e.Q6J("ngIf",t.task.complete),e.xp6(1),e.Q6J("ngIf",!t.task.complete)}}let k=(()=>{class o{constructor(t){this.actionSheetCtrl=t,this.taskS=(0,e.f3M)(g.M),this.router=(0,e.f3M)(r.F0),this.ChangeValue=new e.vpe}presentActionSheet(){var t=this;return(0,m.Z)(function*(){const i=yield t.actionSheetCtrl.create({header:"Actions",buttons:[{text:"Delete",role:"Delete"},{text:"Update",role:"Update"},{text:"Marcar como completado",role:"done"},{text:"Marcar como pendiente",role:"undone"}]});yield i.present();const{role:a}=yield i.onDidDismiss();"Delete"===a&&t.deleteTask(),"Update"===a&&t.editar(),"done"===a&&t.taskComplete(),"undone"===a&&t.taskIncomplete()})()}deleteTask(){this.taskS.deleteTask(this.task.id).subscribe({next:t=>{this.ChangeValue.emit()},error:t=>console.log(t),complete:()=>console.info("complete")})}taskIncomplete(){this.taskS.updateTask(this.task.id,{complete:!1}).subscribe({next:t=>{this.ChangeValue.emit()},error:t=>console.log(t),complete:()=>console.info("complete")})}taskComplete(){this.taskS.updateTask(this.task.id,{complete:!0}).subscribe({next:t=>{this.ChangeValue.emit()},error:t=>console.log(t),complete:()=>console.info("complete")})}editar(){this.router.navigateByUrl("/update/"+this.task.id)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.BX))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-taskList"]],inputs:{task:"task"},outputs:{ChangeValue:"ChangeValue"},standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["style","cursor: pointer;",3,"detail",4,"ngIf"],[2,"cursor","pointer",3,"detail"],[2,"padding","0px",3,"fixed"],["size","1",2,"align-self","center","text-align-last","center",3,"click"],["name","ellipsis-vertical-outline",2,"padding","5px"],["size","10",3,"routerLink"],[1,"ion-text-wrap"],["size","1",2,"align-self","center","text-align-last","center"],["name","checkmark-circle-outline",4,"ngIf"],["name","close-circle-outline",4,"ngIf"],["name","checkmark-circle-outline"],["name","close-circle-outline"]],template:function(t,i){1&t&&e.YNc(0,h,12,6,"ion-item",0),2&t&&e.Q6J("ngIf",i.task)},dependencies:[c.ez,c.O5,n.Pc,n.wI,n.jY,n.gu,n.Ie,n.Q$,n.Nd,n.YI,r.rH],styles:["ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0}ion-label[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}ion-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;margin:0}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:95%}ion-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{float:right;align-items:center;display:flex}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#c9c9ca}ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:15px;margin-right:8px;font-weight:400}ion-item[_ngcontent-%COMP%]   ion-note.md[_ngcontent-%COMP%]{margin-right:14px}.dot[_ngcontent-%COMP%]{display:block;height:12px;width:12px;border-radius:50%;align-self:start;margin:16px 10px 16px 16px}.dot-unread[_ngcontent-%COMP%]{background:var(--ion-color-primary)}ion-footer[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:11px;font-weight:400}"],changeDetection:0}),o})();function _(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",14)(1,"ion-checkbox",15),e.NdJ("click",function(){const p=e.CHM(t).$implicit,P=e.oxw(2);return e.KtG(P.saveCheck(p))}),e._uU(2),e.qZA()()}if(2&o){const t=s.$implicit;e.Q6J("button",!0)("detail",!1),e.xp6(1),e.Q6J("checked",t.value),e.xp6(1),e.Oqu(t.name)}}function x(o,s){if(1&o&&(e.TgZ(0,"ion-content")(1,"ion-list"),e.YNc(2,_,3,4,"ion-item",13),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.optsPop)}}function T(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"app-taskList",16),e.NdJ("ChangeValue",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.getAllTasks())}),e.qZA()}2&o&&e.Q6J("task",s.$implicit)}let C=(()=>{class o{constructor(t){this.actionSheetCtrl=t,this.optsPop=[{name:"Todo",value:!0},{name:"Completadas",value:!1,check:!0},{name:"Pendientes",value:!1,check:!1}],this.taskS=(0,e.f3M)(g.M),this.tasksList=[],this.filterOpt="Todos",this.getAllTasks()}refresh(t){setTimeout(()=>{t.detail.complete(),this.getAllTasks()},2e3)}ionViewWillEnter(){this.getAllTasks()}saveCheck(t){this.filterOpt="Todo"===t.name?"Todos":t.check,this.optsPop.forEach(i=>i.value=!1),this.optsPop.forEach(i=>{i.name===t.name&&(i.value=!0)}),this.getAllTasks()}presentActionSheet(){var t=this;return(0,m.Z)(function*(){const i=yield t.actionSheetCtrl.create({header:"Actions",buttons:[{text:"Delete",role:"Delete"},{text:"Update",role:"Update"},{text:"Marcar como completado",role:"done"},{text:"Marcar como pendiente",role:"undone"}]});yield i.present(),yield i.onDidDismiss()})()}getAllTasks(){let t={};"Todos"!==this.filterOpt&&(t={complete:this.filterOpt}),this.taskS.getAllTaskFilter(t).subscribe({next:i=>{this.tasksList=i},error:i=>{console.log(i)},complete:()=>console.info("complete")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.BX))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-task-list"]],standalone:!0,features:[e.jDz],decls:20,vars:5,consts:[[3,"translucent"],[2,"padding","0px",3,"fixed"],["size","10",2,"align-self","center"],["size","2"],["fill","clear","slots","end","id","popover-button"],["name","filter-outline"],["trigger","popover-button",3,"dismissOnSelect"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[3,"task","ChangeValue",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],["routerLink","/new"],["name","add"],[3,"button","detail",4,"ngFor","ngForOf"],[3,"button","detail"],[3,"checked","click"],[3,"task","ChangeValue"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-grid",1)(3,"ion-row")(4,"ion-col",2)(5,"ion-title"),e._uU(6,"Task List"),e.qZA()(),e.TgZ(7,"ion-col",3)(8,"ion-button",4),e._UZ(9,"ion-icon",5),e.qZA(),e.TgZ(10,"ion-popover",6),e.YNc(11,x,3,1,"ng-template"),e.qZA()()()()()(),e.TgZ(12,"ion-content",7)(13,"ion-refresher",8),e.NdJ("ionRefresh",function(p){return i.refresh(p)}),e._UZ(14,"ion-refresher-content"),e.qZA(),e.TgZ(15,"ion-list"),e.YNc(16,T,1,1,"app-taskList",9),e.qZA(),e.TgZ(17,"ion-fab",10)(18,"ion-fab-button",11),e._UZ(19,"ion-icon",12),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(2),e.Q6J("fixed",!0),e.xp6(8),e.Q6J("dismissOnSelect",!0),e.xp6(2),e.Q6J("fullscreen",!0),e.xp6(4),e.Q6J("ngForOf",i.tasksList))},dependencies:[n.Pc,n.YG,n.nz,n.wI,n.W2,n.IJ,n.W4,n.jY,n.Gu,n.gu,n.Ie,n.q_,n.nJ,n.Wo,n.Nd,n.wd,n.sr,n.d8,n.w,n.YI,c.ez,c.sg,k,r.rH]}),o})()}}]);